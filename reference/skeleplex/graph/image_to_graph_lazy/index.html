
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../image_to_graph/">
      
      
        <link rel="next" href="../modify_graph/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>image_to_graph_lazy - Skeleplex</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#skeleplex.graph.image_to_graph_lazy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Skeleplex" class="md-header__button md-logo" aria-label="Skeleplex" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Skeleplex
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              image_to_graph_lazy
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Skeleplex" class="md-nav__button md-logo" aria-label="Skeleplex" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Skeleplex
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    skeleplex
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    skeleplex
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../app/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    app
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    app
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _app
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_constants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _constants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_curate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _curate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/_viewer_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _viewer_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../app/cellier/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    cellier
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_1_8" id="__nav_2_1_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    cellier
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/cellier/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../app/qt/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    qt
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_1_10" id="__nav_2_1_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    qt
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/app_controls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    app_controls
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/auxiliary_views/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    auxiliary_views
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/flat_group_box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    flat_group_box
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/main_viewer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    main_viewer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/styles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    styles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../app/qt/window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    window
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    data
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/bifurcating_tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    bifurcating_tree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/fractal_trees/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    fractal_trees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/skeleton_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    skeleton_image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/skeletons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    skeletons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/tubes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tubes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/y_junctions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    y_junctions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    graph
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    graph
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../break_detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    break_detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    constants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image_to_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    image_to_graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    image_to_graph_lazy
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    image_to_graph_lazy
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;assign_unique_ids
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" assign_unique_ids">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;build_pixel_indices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" build_pixel_indices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.compute_degrees" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;compute_degrees
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" compute_degrees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.compute_degrees(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;construct_dataframe
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" construct_dataframe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe(labeled_skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;labeled_skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe(overlap_depth)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;overlap_depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;remove_isolated_voxels
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" remove_isolated_voxels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(degrees_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;degrees_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;skeleton_graph_func
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" skeleton_graph_func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(labeled_skeleton_chunk)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;labeled_skeleton_chunk
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(spacing)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;spacing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;skeleton_image_to_graph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" skeleton_image_to_graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(degrees_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;degrees_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(graph_edges_df)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;graph_edges_df
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(spacing)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;spacing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(image_voxel_size_um)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;image_voxel_size_um
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;slices_from_chunks_overlap
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" slices_from_chunks_overlap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(chunks)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;chunks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(array_shape)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;array_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(depth)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modify_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    modify_graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sample/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sample
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../skeleton_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    skeleton_graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    spline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../measurements/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    measurements
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_4" id="__nav_2_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    measurements
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/angles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    angles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/branches/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    branches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/fit_surface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    fit_surface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/graph_properties/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    graph_properties
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/lumen_classifier/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    lumen_classifier
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measurements/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../skeleton/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    skeleton
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_5" id="__nav_2_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    skeleton
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_chunked_label/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _chunked_label
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_chunked_upscale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _chunked_upscale
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_segment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _segment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_skeletonize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _skeletonize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_upscale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _upscale
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../skeleton/distance_field/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    distance_field
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../utils/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_6" id="__nav_2_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    utils
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/_chunked/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _chunked
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/_geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _geometry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../visualize/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    visualize
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1_7" id="__nav_2_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    visualize
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualize/_color/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _color
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualize/spline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    spline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;assign_unique_ids
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" assign_unique_ids">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;build_pixel_indices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" build_pixel_indices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.compute_degrees" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;compute_degrees
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" compute_degrees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.compute_degrees(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;construct_dataframe
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" construct_dataframe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe(labeled_skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;labeled_skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe(overlap_depth)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;overlap_depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;remove_isolated_voxels
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" remove_isolated_voxels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(degrees_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;degrees_image
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;skeleton_graph_func
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" skeleton_graph_func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(labeled_skeleton_chunk)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;labeled_skeleton_chunk
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(spacing)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;spacing
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;skeleton_image_to_graph
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" skeleton_image_to_graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(skeleton_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;skeleton_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(degrees_image)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;degrees_image
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(graph_edges_df)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;graph_edges_df
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(spacing)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;spacing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(image_voxel_size_um)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;image_voxel_size_um
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;slices_from_chunks_overlap
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" slices_from_chunks_overlap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(chunks)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;chunks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(array_shape)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;array_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(depth)" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-parameter"></code>&nbsp;depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<div class="doc doc-object doc-module">



<h1 id="skeleplex.graph.image_to_graph_lazy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">skeleplex.graph.image_to_graph_lazy</span>


</h1>

    <div class="doc doc-contents first">

        <p>Functions for creating a graph from a skeleton image using lazy computation.</p>
<p>These functions are adapted from Genevieve Buckley's distributed-skeleton-analysis repo:
https://github.com/GenevieveBuckley/distributed-skeleton-analysis</p>












<p><span class="doc-section-title">Functions:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            assign_unique_ids (skeleplex.graph.image_to_graph_lazy.assign_unique_ids)" href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids">assign_unique_ids</a></code></b>
            –
            <div class="doc-md-description">
              <p>Assign a unique integer label to each skeleton voxel in a binary skeleton image.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            build_pixel_indices (skeleplex.graph.image_to_graph_lazy.build_pixel_indices)" href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices">build_pixel_indices</a></code></b>
            –
            <div class="doc-md-description">
              <p>Compute global coordinates of all nonzero skeleton voxels.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            compute_degrees (skeleplex.graph.image_to_graph_lazy.compute_degrees)" href="#skeleplex.graph.image_to_graph_lazy.compute_degrees">compute_degrees</a></code></b>
            –
            <div class="doc-md-description">
              <p>Compute the degrees image from a binary skeleton image.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            construct_dataframe (skeleplex.graph.image_to_graph_lazy.construct_dataframe)" href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe">construct_dataframe</a></code></b>
            –
            <div class="doc-md-description">
              <p>Construct a Dask DataFrame of connected voxels from a labeled skeleton image.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            remove_isolated_voxels (skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels)" href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels">remove_isolated_voxels</a></code></b>
            –
            <div class="doc-md-description">
              <p>Remove isolated voxels from the skeleton image using the degrees image.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            skeleton_graph_func (skeleplex.graph.image_to_graph_lazy.skeleton_graph_func)" href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func">skeleton_graph_func</a></code></b>
            –
            <div class="doc-md-description">
              <p>Create delayed computation to extract connections from a labeled skeleton chunk.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            skeleton_image_to_graph (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph)" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph">skeleton_image_to_graph</a></code></b>
            –
            <div class="doc-md-description">
              <p>Build a NetworkX graph from a skeleton image and graph edges.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="            slices_from_chunks_overlap (skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap)" href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap">slices_from_chunks_overlap</a></code></b>
            –
            <div class="doc-md-description">
              <p>Compute slices for extracting overlapping chunks from an array.</p>
            </div>
          </li>
    </ul>





  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.assign_unique_ids" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">assign_unique_ids</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">assign_unique_ids</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="skeleton_image (skeleplex.graph.image_to_graph_lazy.assign_unique_ids(skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.assign_unique_ids(skeleton_image)">skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="dask.array.Array">Array</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Assign a unique integer label to each skeleton voxel in a binary skeleton image.</p>
<p>Each foreground voxel in the skeleton is assigned a unique integer ID
starting from 1 using a 3x3x3 kernel. Background voxels remain 0. This
effectively enumerates all skeleton voxels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.assign_unique_ids(skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Binary skeleton image where non-zero values indicate skeleton voxels.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>labeled_skeleton</code></b> (              <code><span title="dask.array.Array">Array</span></code>
)          –
          <div class="doc-md-description">
            <p>Array of same shape as skeleton_image with unique integer labels
assigned to each connected component.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<b><code>num_features</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
)          –
          <div class="doc-md-description">
            <p>The total number of skeleton voxels labeled.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assign_unique_ids</span><span class="p">(</span>
    <span class="n">skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assign a unique integer label to each skeleton voxel in a binary skeleton image.</span>

<span class="sd">    Each foreground voxel in the skeleton is assigned a unique integer ID</span>
<span class="sd">    starting from 1 using a 3x3x3 kernel. Background voxels remain 0. This</span>
<span class="sd">    effectively enumerates all skeleton voxels.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    skeleton_image : dask.array.Array</span>
<span class="sd">        Binary skeleton image where non-zero values indicate skeleton voxels.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    labeled_skeleton : dask.array.Array</span>
<span class="sd">        Array of same shape as skeleton_image with unique integer labels</span>
<span class="sd">        assigned to each connected component.</span>
<span class="sd">    num_features : int</span>
<span class="sd">        The total number of skeleton voxels labeled.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ndim</span> <span class="o">=</span> <span class="n">skeleton_image</span><span class="o">.</span><span class="n">ndim</span>
    <span class="n">structure_kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,)</span> <span class="o">*</span> <span class="n">ndim</span><span class="p">)</span>
    <span class="n">structure_kernel</span><span class="p">[(</span><span class="mi">1</span><span class="p">,)</span> <span class="o">*</span> <span class="n">ndim</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">labeled_skeleton</span><span class="p">,</span> <span class="n">num_features</span> <span class="o">=</span> <span class="n">label</span><span class="p">(</span>
        <span class="n">skeleton_image</span><span class="p">,</span>
        <span class="n">structure</span><span class="o">=</span><span class="n">structure_kernel</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">labeled_skeleton</span><span class="p">,</span> <span class="n">num_features</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.build_pixel_indices" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">build_pixel_indices</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">build_pixel_indices</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="skeleton_image (skeleplex.graph.image_to_graph_lazy.build_pixel_indices(skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.build_pixel_indices(skeleton_image)">skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute global coordinates of all nonzero skeleton voxels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.build_pixel_indices(skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Binary skeleton image.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>
          –
          <div class="doc-md-description">
            <p>Array of voxel coordinates with shape (N, ndim).</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_pixel_indices</span><span class="p">(</span><span class="n">skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute global coordinates of all nonzero skeleton voxels.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    skeleton_image : dask.array.Array</span>
<span class="sd">        Binary skeleton image.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        Array of voxel coordinates with shape (N, ndim).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extract_coords_block</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">block</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">coords</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">ndim</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">k</span> <span class="o">*</span> <span class="n">s</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)])</span>
        <span class="k">return</span> <span class="n">coords</span> <span class="o">+</span> <span class="n">offset</span>

    <span class="n">delayed_blocks</span> <span class="o">=</span> <span class="n">skeleton_image</span><span class="o">.</span><span class="n">to_delayed</span><span class="p">()</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">delayed_coords</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">delayed</span><span class="p">(</span><span class="n">extract_coords_block</span><span class="p">)(</span><span class="n">block</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="k">for</span> <span class="n">block</span> <span class="ow">in</span> <span class="n">delayed_blocks</span>
    <span class="p">]</span>

    <span class="n">coords_list</span> <span class="o">=</span> <span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">delayed_coords</span><span class="p">)</span>
    <span class="n">all_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">(</span><span class="n">coords_list</span><span class="p">)</span>

    <span class="n">pixel_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
        <span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">skeleton_image</span><span class="o">.</span><span class="n">ndim</span><span class="p">)],</span> <span class="n">all_coords</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">pixel_indices</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.compute_degrees" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">compute_degrees</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">compute_degrees</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="skeleton_image (skeleplex.graph.image_to_graph_lazy.compute_degrees(skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.compute_degrees(skeleton_image)">skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="dask.array.Array">Array</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute the degrees image from a binary skeleton image.</p>
<p>This function counts, for each voxel in the skeleton,
how many of its neighbors also belong to the skeleton.
It performs a convolution of the binary skeleton image with
a 3x3x3 kernel to compute the neighbor count.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.compute_degrees(skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Binary skeleton image where non-zero values indicate skeleton voxels.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>degrees_image</code></b> (              <code><span title="dask.array.Array">Array</span></code>
)          –
          <div class="doc-md-description">
            <p>An image of the same shape as skeleton_image. Each foreground voxel
stores the count of neighboring skeleton voxels.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_degrees</span><span class="p">(</span><span class="n">skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the degrees image from a binary skeleton image.</span>

<span class="sd">    This function counts, for each voxel in the skeleton,</span>
<span class="sd">    how many of its neighbors also belong to the skeleton.</span>
<span class="sd">    It performs a convolution of the binary skeleton image with</span>
<span class="sd">    a 3x3x3 kernel to compute the neighbor count.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    skeleton_image : dask.array.Array</span>
<span class="sd">        Binary skeleton image where non-zero values indicate skeleton voxels.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    degrees_image : dask.array.Array</span>
<span class="sd">        An image of the same shape as skeleton_image. Each foreground voxel</span>
<span class="sd">        stores the count of neighboring skeleton voxels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ndim</span> <span class="o">=</span> <span class="n">skeleton_image</span><span class="o">.</span><span class="n">ndim</span>
    <span class="n">degree_kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,)</span> <span class="o">*</span> <span class="n">ndim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
    <span class="n">degree_kernel</span><span class="p">[(</span><span class="mi">1</span><span class="p">,)</span> <span class="o">*</span> <span class="n">ndim</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">degrees_image</span> <span class="o">=</span> <span class="n">convolve</span><span class="p">(</span>
        <span class="n">skeleton_image</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),</span> <span class="n">degree_kernel</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;constant&quot;</span>
    <span class="p">)</span>

    <span class="n">degrees_image</span> <span class="o">=</span> <span class="n">degrees_image</span> <span class="o">*</span> <span class="n">skeleton_image</span>

    <span class="k">return</span> <span class="n">degrees_image</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.construct_dataframe" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">construct_dataframe</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">construct_dataframe</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="labeled_skeleton_image (skeleplex.graph.image_to_graph_lazy.construct_dataframe(labeled_skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.construct_dataframe(labeled_skeleton_image)">labeled_skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="dask.dataframe.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Construct a Dask DataFrame of connected voxels from a labeled skeleton image.</p>
<p>This function processes a labeled skeleton image in overlapping chunks.
For each chunk, it computes connections between neighboring labeled voxels and
returns the combined result as a single Dask DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.construct_dataframe(labeled_skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>labeled_skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Labeled skeleton image where each nonzero voxel has a unique integer label.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.construct_dataframe(overlap_depth)" class="doc doc-heading doc-heading-parameter">              <b><code>overlap_depth</code></b>
</h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>)
          –
          <div class="doc-md-description">
            <p>Number of voxels to overlap between neighboring chunks
when extracting chunks from the array. Default is 1.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="dask.dataframe.DataFrame">DataFrame</span></code>
          –
          <div class="doc-md-description">
            <p>Dask DataFrame with graph edges.
Columns:
    - 'row': int
        Label of the source voxel.
    - 'col': int
        Label of the neighboring target voxel.
    - 'data': float
        Euclidean distance between the connected voxels.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">construct_dataframe</span><span class="p">(</span><span class="n">labeled_skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct a Dask DataFrame of connected voxels from a labeled skeleton image.</span>

<span class="sd">    This function processes a labeled skeleton image in overlapping chunks.</span>
<span class="sd">    For each chunk, it computes connections between neighboring labeled voxels and</span>
<span class="sd">    returns the combined result as a single Dask DataFrame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    labeled_skeleton_image : dask.array.Array</span>
<span class="sd">        Labeled skeleton image where each nonzero voxel has a unique integer label.</span>
<span class="sd">    overlap_depth : int, optional</span>
<span class="sd">        Number of voxels to overlap between neighboring chunks</span>
<span class="sd">        when extracting chunks from the array. Default is 1.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dask.dataframe.DataFrame</span>
<span class="sd">        Dask DataFrame with graph edges.</span>
<span class="sd">        Columns:</span>
<span class="sd">            - &#39;row&#39;: int</span>
<span class="sd">                Label of the source voxel.</span>
<span class="sd">            - &#39;col&#39;: int</span>
<span class="sd">                Label of the neighboring target voxel.</span>
<span class="sd">            - &#39;data&#39;: float</span>
<span class="sd">                Euclidean distance between the connected voxels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">chunk_iterator</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="o">*</span><span class="n">labeled_skeleton_image</span><span class="o">.</span><span class="n">numblocks</span><span class="p">),</span>
        <span class="nb">map</span><span class="p">(</span>
            <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">getitem</span><span class="p">,</span> <span class="n">labeled_skeleton_image</span><span class="p">),</span>
            <span class="n">slices_from_chunks_overlap</span><span class="p">(</span>
                <span class="n">labeled_skeleton_image</span><span class="o">.</span><span class="n">chunks</span><span class="p">,</span> <span class="n">labeled_skeleton_image</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">1</span>
            <span class="p">),</span>
        <span class="p">),</span>
        <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">meta</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">make_meta</span><span class="p">(</span>
        <span class="p">[(</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;col&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)]</span>
    <span class="p">)</span>
    <span class="n">chunk_graphs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">dd</span><span class="o">.</span><span class="n">from_delayed</span><span class="p">(</span><span class="n">skeleton_graph_func</span><span class="p">(</span><span class="n">chunk</span><span class="p">),</span> <span class="n">meta</span><span class="o">=</span><span class="n">meta</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunk_iterator</span>
    <span class="p">]</span>

    <span class="n">graph_edges_ddf</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">chunk_graphs</span><span class="p">)</span>
    <span class="n">graph_edges_ddf</span> <span class="o">=</span> <span class="n">graph_edges_ddf</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">graph_edges_ddf</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">remove_isolated_voxels</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_isolated_voxels</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="skeleton_image (skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(skeleton_image)">skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="degrees_image (skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(degrees_image))" href="#skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(degrees_image)">degrees_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="dask.array.Array">Array</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove isolated voxels from the skeleton image using the degrees image.</p>
<p>This function removes skeleton voxels whose degree is 0,
i.e. voxels that do not have any neighboring skeleton voxels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Binary skeleton image where non-zero values indicate skeleton voxels.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.remove_isolated_voxels(degrees_image)" class="doc doc-heading doc-heading-parameter">              <b><code>degrees_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Degrees image where each voxel stores the number of neighboring skeleton voxels.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>cleaned_skeleton</code></b> (              <code><span title="dask.array.Array">Array</span></code>
)          –
          <div class="doc-md-description">
            <p>Binary skeleton image with isolated voxels removed.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_isolated_voxels</span><span class="p">(</span>
    <span class="n">skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
    <span class="n">degrees_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove isolated voxels from the skeleton image using the degrees image.</span>

<span class="sd">    This function removes skeleton voxels whose degree is 0,</span>
<span class="sd">    i.e. voxels that do not have any neighboring skeleton voxels.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    skeleton_image : dask.array.Array</span>
<span class="sd">        Binary skeleton image where non-zero values indicate skeleton voxels.</span>
<span class="sd">    degrees_image : dask.array.Array</span>
<span class="sd">        Degrees image where each voxel stores the number of neighboring skeleton voxels.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    cleaned_skeleton : dask.array.Array</span>
<span class="sd">        Binary skeleton image with isolated voxels removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cleaned_skeleton</span> <span class="o">=</span> <span class="n">skeleton_image</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">degrees_image</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cleaned_skeleton</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.skeleton_graph_func" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">skeleton_graph_func</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">skeleton_graph_func</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="labeled_skeleton_chunk (skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(labeled_skeleton_chunk))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(labeled_skeleton_chunk)">labeled_skeleton_chunk</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="spacing (skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(spacing))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(spacing)">spacing</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create delayed computation to extract connections from a labeled skeleton chunk.</p>
<p>This function analyzes a chunk of a labeled skeleton image to identify
connections between neighboring skeleton voxels. It constructs a DataFrame
listing each pair of connected voxels and the Euclidean distance
between them. The computation is delayed and only executes when explicitly computed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(labeled_skeleton_chunk)" class="doc doc-heading doc-heading-parameter">              <b><code>labeled_skeleton_chunk</code></b>
</h3>              (<code><a class="autorefs autorefs-external" title="numpy.ndarray" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray">ndarray</a></code>)
          –
          <div class="doc-md-description">
            <p>A chunk of the labeled skeleton image. Each voxel contains either
0 or a unique positive integer label assigned to a skeleton voxel.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_graph_func(spacing)" class="doc doc-heading doc-heading-parameter">              <b><code>spacing</code></b>
</h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>Spacing between voxels in the skeleton, by default 1.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="dask.delayed.Delayed">Delayed</span></code>
          –
          <div class="doc-md-description">
            <p>A delayed computation producing a pandas DataFrame with columns:
    - 'row' : int
        Label of the source voxel.
    - 'col' : int
        Label of the neighboring target voxel.
    - 'data' : float
        Euclidean distance between the connected voxels.</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@delayed</span>
<span class="k">def</span><span class="w"> </span><span class="nf">skeleton_graph_func</span><span class="p">(</span>
    <span class="n">labeled_skeleton_chunk</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create delayed computation to extract connections from a labeled skeleton chunk.</span>

<span class="sd">    This function analyzes a chunk of a labeled skeleton image to identify</span>
<span class="sd">    connections between neighboring skeleton voxels. It constructs a DataFrame</span>
<span class="sd">    listing each pair of connected voxels and the Euclidean distance</span>
<span class="sd">    between them. The computation is delayed and only executes when explicitly computed.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    labeled_skeleton_chunk : np.ndarray</span>
<span class="sd">        A chunk of the labeled skeleton image. Each voxel contains either</span>
<span class="sd">        0 or a unique positive integer label assigned to a skeleton voxel.</span>
<span class="sd">    spacing : float, optional</span>
<span class="sd">        Spacing between voxels in the skeleton, by default 1.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dask.delayed.Delayed</span>
<span class="sd">        A delayed computation producing a pandas DataFrame with columns:</span>
<span class="sd">            - &#39;row&#39; : int</span>
<span class="sd">                Label of the source voxel.</span>
<span class="sd">            - &#39;col&#39; : int</span>
<span class="sd">                Label of the neighboring target voxel.</span>
<span class="sd">            - &#39;data&#39; : float</span>
<span class="sd">                Euclidean distance between the connected voxels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ndim</span> <span class="o">=</span> <span class="n">labeled_skeleton_chunk</span><span class="o">.</span><span class="n">ndim</span>
    <span class="n">spacing</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">ndim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="o">*</span> <span class="n">spacing</span>
    <span class="n">num_edges</span> <span class="o">=</span> <span class="n">_num_edges</span><span class="p">(</span><span class="n">labeled_skeleton_chunk</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">))</span>
    <span class="n">padded_chunk</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span><span class="n">labeled_skeleton_chunk</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">steps</span><span class="p">,</span> <span class="n">distances</span> <span class="o">=</span> <span class="n">raveled_steps_to_neighbors</span><span class="p">(</span>
        <span class="n">padded_chunk</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">ndim</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="n">spacing</span>
    <span class="p">)</span>

    <span class="n">row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">num_edges</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">col</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">num_edges</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">num_edges</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">_write_pixel_graph</span><span class="p">(</span><span class="n">padded_chunk</span><span class="p">,</span> <span class="n">steps</span><span class="p">,</span> <span class="n">distances</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;row&quot;</span><span class="p">:</span> <span class="n">row</span><span class="p">,</span> <span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="n">col</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">skeleton_image_to_graph</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">skeleton_image_to_graph</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="skeleton_image (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(skeleton_image))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(skeleton_image)">skeleton_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="degrees_image (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(degrees_image))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(degrees_image)">degrees_image</a></span><span class="p">:</span> <span class="n"><span title="dask.array.Array">Array</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="graph_edges_df (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(graph_edges_df))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(graph_edges_df)">graph_edges_df</a></span><span class="p">:</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="spacing (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(spacing))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(spacing)">spacing</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="image_voxel_size_um (skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(image_voxel_size_um))" href="#skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(image_voxel_size_um)">image_voxel_size_um</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="networkx.Graph">Graph</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Build a NetworkX graph from a skeleton image and graph edges.</p>
<p>This function constructs a NetworkX graph directly from a
skeleton image, its degrees image, and the edge list DataFrame.
It computes the voxel coordinates for each skeleton node and stores
them as node attributes in the graph. Edge paths are attached as
edge attributes.</p>
<p>The node coordinates and edge path coordinates are scaled to microns
using the provided image_voxel_size_um.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(skeleton_image)" class="doc doc-heading doc-heading-parameter">              <b><code>skeleton_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Binary skeleton image.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(degrees_image)" class="doc doc-heading doc-heading-parameter">              <b><code>degrees_image</code></b>
</h3>              (<code><span title="dask.array.Array">Array</span></code>)
          –
          <div class="doc-md-description">
            <p>Degrees image indicating the number of neighbors for each voxel.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(graph_edges_df)" class="doc doc-heading doc-heading-parameter">              <b><code>graph_edges_df</code></b>
</h3>              (<code><span title="pandas.DataFrame">DataFrame</span></code>)
          –
          <div class="doc-md-description">
            <p>DataFrame of graph edges with columns: 'row', 'col', 'data'.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(spacing)" class="doc doc-heading doc-heading-parameter">              <b><code>spacing</code></b>
</h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>1.0</code>
)
          –
          <div class="doc-md-description">
            <p>Spacing between voxels. Default is 1.0.
This does not scale the graph to um.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.skeleton_image_to_graph(image_voxel_size_um)" class="doc doc-heading doc-heading-parameter">              <b><code>image_voxel_size_um</code></b>
</h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>1.0</code>
)
          –
          <div class="doc-md-description">
            <p>Spacing of the voxels. Used to transform graph coordinates to um.
Default is 1.0.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>nx_graph</code></b> (              <code><span title="networkx.Graph">Graph</span></code>
)          –
          <div class="doc-md-description">
            <p>NetworkX graph representing the skeleton.
- Each edge has a 'path' attribute (Nx3 array of coordinates).
- Each node has a 'node_coordinate' attribute (1x3 array).</p>
          </div>
        </li>
    </ul>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">skeleton_image_to_graph</span><span class="p">(</span>
    <span class="n">skeleton_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
    <span class="n">degrees_image</span><span class="p">:</span> <span class="n">da</span><span class="o">.</span><span class="n">Array</span><span class="p">,</span>
    <span class="n">graph_edges_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">image_voxel_size_um</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build a NetworkX graph from a skeleton image and graph edges.</span>

<span class="sd">    This function constructs a NetworkX graph directly from a</span>
<span class="sd">    skeleton image, its degrees image, and the edge list DataFrame.</span>
<span class="sd">    It computes the voxel coordinates for each skeleton node and stores</span>
<span class="sd">    them as node attributes in the graph. Edge paths are attached as</span>
<span class="sd">    edge attributes.</span>

<span class="sd">    The node coordinates and edge path coordinates are scaled to microns</span>
<span class="sd">    using the provided image_voxel_size_um.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    skeleton_image : dask.array.Array</span>
<span class="sd">        Binary skeleton image.</span>
<span class="sd">    degrees_image : dask.array.Array</span>
<span class="sd">        Degrees image indicating the number of neighbors for each voxel.</span>
<span class="sd">    graph_edges_df : pandas.DataFrame</span>
<span class="sd">        DataFrame of graph edges with columns: &#39;row&#39;, &#39;col&#39;, &#39;data&#39;.</span>
<span class="sd">    spacing : float, optional</span>
<span class="sd">        Spacing between voxels. Default is 1.0.</span>
<span class="sd">        This does not scale the graph to um.</span>
<span class="sd">    image_voxel_size_um : float, optional</span>
<span class="sd">        Spacing of the voxels. Used to transform graph coordinates to um.</span>
<span class="sd">        Default is 1.0.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    nx_graph : networkx.Graph</span>
<span class="sd">        NetworkX graph representing the skeleton.</span>
<span class="sd">        - Each edge has a &#39;path&#39; attribute (Nx3 array of coordinates).</span>
<span class="sd">        - Each node has a &#39;node_coordinate&#39; attribute (1x3 array).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">graph_edges_df</span><span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">col</span> <span class="o">=</span> <span class="n">graph_edges_df</span><span class="p">[</span><span class="s2">&quot;col&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">graph_edges_df</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">adj</span> <span class="o">=</span> <span class="n">sparse</span><span class="o">.</span><span class="n">coo_matrix</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)))</span><span class="o">.</span><span class="n">tocsr</span><span class="p">()</span>

    <span class="n">skel_obj</span> <span class="o">=</span> <span class="n">Skeleton</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">skeleton_image</span> <span class="o">=</span> <span class="n">skeleton_image</span>
    <span class="c1"># this doesnt scale the coordinates</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="p">[</span><span class="n">spacing</span><span class="p">]</span> <span class="o">*</span> <span class="n">skeleton_image</span><span class="o">.</span><span class="n">ndim</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">adj</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">degrees_image</span> <span class="o">=</span> <span class="n">degrees_image</span>

    <span class="n">skel_obj</span><span class="o">.</span><span class="n">coordinates</span> <span class="o">=</span> <span class="n">build_pixel_indices</span><span class="p">(</span><span class="n">skeleton_image</span><span class="p">)</span>

    <span class="n">nonzero_degree_values</span> <span class="o">=</span> <span class="n">degrees_image</span><span class="p">[</span><span class="n">degrees_image</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
    <span class="n">degrees</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(([</span><span class="mi">0</span><span class="p">],</span> <span class="n">nonzero_degree_values</span><span class="p">))</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">degrees</span> <span class="o">=</span> <span class="n">degrees</span>

    <span class="n">nbgraph</span> <span class="o">=</span> <span class="n">csr_to_nbgraph</span><span class="p">(</span><span class="n">adj</span><span class="p">)</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">nbgraph</span> <span class="o">=</span> <span class="n">nbgraph</span>
    <span class="n">paths</span> <span class="o">=</span> <span class="n">_build_skeleton_path_graph</span><span class="p">(</span><span class="n">nbgraph</span><span class="p">)</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">paths</span> <span class="o">=</span> <span class="n">paths</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">n_paths</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">_distances_initialized</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">skel_obj</span><span class="o">.</span><span class="n">n_paths</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">skel_obj</span><span class="o">.</span><span class="n">path_lengths</span><span class="p">()</span>

    <span class="n">summary_df</span> <span class="o">=</span> <span class="n">summarize</span><span class="p">(</span><span class="n">skel_obj</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>

    <span class="n">nx_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">summary_df</span><span class="o">.</span><span class="n">itertuples</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Edge&quot;</span><span class="p">):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">Index</span>
        <span class="n">node_src</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">node_id_src</span>
        <span class="n">node_dst</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">node_id_dst</span>

        <span class="c1"># path coordinates are not scaled to voxel size.</span>
        <span class="c1"># here we scale them to microns</span>
        <span class="n">edge_coords</span> <span class="o">=</span> <span class="n">skel_obj</span><span class="o">.</span><span class="n">path_coordinates</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">edge_coords</span> <span class="o">=</span> <span class="n">edge_coords</span> <span class="o">*</span> <span class="n">image_voxel_size_um</span>  <span class="c1"># scale to um</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">edge_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">edge_coords</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">edge_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">edge_coords</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mf">0.01</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">:</span>
            <span class="n">edge_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">edge_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">edge_coords</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">20</span><span class="p">)</span>

        <span class="n">nx_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span>
            <span class="n">node_src</span><span class="p">,</span>
            <span class="n">node_dst</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">edge_coords</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># add node coordinates</span>
    <span class="k">for</span> <span class="n">node_index</span> <span class="ow">in</span> <span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
        <span class="n">node_coord</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">skel_obj</span><span class="o">.</span><span class="n">coordinates</span><span class="p">[</span><span class="n">node_index</span><span class="p">])</span> <span class="o">*</span> <span class="n">image_voxel_size_um</span>
        <span class="p">)</span>  <span class="c1"># scale to um</span>
        <span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_index</span><span class="p">][</span><span class="s2">&quot;node_coordinate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_coord</span>

    <span class="k">return</span> <span class="n">nx_graph</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">slices_from_chunks_overlap</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">slices_from_chunks_overlap</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="chunks (skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(chunks))" href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(chunks)">chunks</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="array_shape (skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(array_shape))" href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(array_shape)">array_shape</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="depth (skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(depth))" href="#skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(depth)">depth</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#slice">slice</a></span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute slices for extracting overlapping chunks from an array.</p>
<p>Given the chunk structure of a Dask array, this function generates a list
of slice tuples that define how to extract each chunk along with a border
of overlapping voxels around it. The overlap is applied on all sides,
except where the chunk is at the array edge.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(chunks)" class="doc doc-heading doc-heading-parameter">              <b><code>chunks</code></b>
</h3>              (<code>tuple of tuples of int</code>)
          –
          <div class="doc-md-description">
            <p>The chunk sizes in each dimension, as returned by Dask's <code>.chunks</code> attribute.
For example: ((4,), (7, 7))</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(array_shape)" class="doc doc-heading doc-heading-parameter">              <b><code>array_shape</code></b>
</h3>              (<code>tuple of int</code>)
          –
          <div class="doc-md-description">
            <p>Shape of the full array.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<h3 id="skeleplex.graph.image_to_graph_lazy.slices_from_chunks_overlap(depth)" class="doc doc-heading doc-heading-parameter">              <b><code>depth</code></b>
</h3>              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>, default:
                  <code>1</code>
)
          –
          <div class="doc-md-description">
            <p>Number of voxels to include as overlap around each chunk.
Defaults to 1.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>list of tuple of slice</code>
          –
          <div class="doc-md-description">
            <p>A list of tuples of slice objects, one per chunk. Each tuple can be
used to index into the array to extract that chunk plus its overlap.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>slices_from_chunks_overlap(((4,), (7, 7)), (4, 14), depth=1)
[(slice(0, 5, None), slice(0, 8, None)),
 (slice(0, 5, None), slice(6, 15, None))]</p>
</blockquote>
</blockquote>
</blockquote>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>skeleplex/graph/image_to_graph_lazy.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">slices_from_chunks_overlap</span><span class="p">(</span>
    <span class="n">chunks</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">array_shape</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">depth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">slice</span><span class="p">,</span> <span class="o">...</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute slices for extracting overlapping chunks from an array.</span>

<span class="sd">    Given the chunk structure of a Dask array, this function generates a list</span>
<span class="sd">    of slice tuples that define how to extract each chunk along with a border</span>
<span class="sd">    of overlapping voxels around it. The overlap is applied on all sides,</span>
<span class="sd">    except where the chunk is at the array edge.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    chunks : tuple of tuples of int</span>
<span class="sd">        The chunk sizes in each dimension, as returned by Dask&#39;s `.chunks` attribute.</span>
<span class="sd">        For example: ((4,), (7, 7))</span>
<span class="sd">    array_shape : tuple of int</span>
<span class="sd">        Shape of the full array.</span>
<span class="sd">    depth : int, optional</span>
<span class="sd">        Number of voxels to include as overlap around each chunk.</span>
<span class="sd">        Defaults to 1.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of tuple of slice</span>
<span class="sd">        A list of tuples of slice objects, one per chunk. Each tuple can be</span>
<span class="sd">        used to index into the array to extract that chunk plus its overlap.</span>

<span class="sd">    Example</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; slices_from_chunks_overlap(((4,), (7, 7)), (4, 14), depth=1)</span>
<span class="sd">    [(slice(0, 5, None), slice(0, 8, None)),</span>
<span class="sd">     (slice(0, 5, None), slice(6, 15, None))]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cumdims</span> <span class="o">=</span> <span class="p">[</span><span class="n">cached_cumsum</span><span class="p">(</span><span class="n">bds</span><span class="p">,</span> <span class="n">initial_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">bds</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">]</span>

    <span class="n">slices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">starts</span><span class="p">,</span> <span class="n">shapes</span><span class="p">,</span> <span class="n">maxshape</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">cumdims</span><span class="p">,</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">array_shape</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">inner_slices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">dim</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">starts</span><span class="p">,</span> <span class="n">shapes</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="n">slice_start</span> <span class="o">=</span> <span class="n">s</span>
            <span class="n">slice_stop</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">dim</span>
            <span class="k">if</span> <span class="n">slice_start</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">slice_start</span> <span class="o">-=</span> <span class="n">depth</span>
            <span class="k">if</span> <span class="n">slice_stop</span> <span class="o">&gt;=</span> <span class="n">maxshape</span><span class="p">:</span>
                <span class="n">slice_stop</span> <span class="o">+=</span> <span class="n">depth</span>
            <span class="n">inner_slices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">slice</span><span class="p">(</span><span class="n">slice_start</span><span class="p">,</span> <span class="n">slice_stop</span><span class="p">))</span>
        <span class="n">slices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner_slices</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="o">*</span><span class="n">slices</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["search.highlight", "search.suggest", "content.code.copy", "content.code.annotate", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>